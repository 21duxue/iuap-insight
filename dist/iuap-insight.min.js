function utf8_encode(e){return decodeURI(encodeURIComponent(e))}function hash(e){var t,n,r,o,i,a,s,c,u,d,f=function(e,t){return e<<t|e>>>32-t},l=function(e){var t,n,r="";for(t=7;t>=0;t--)n=e>>>4*t&15,r+=n.toString(16);return r},p=[],h=1732584193,m=4023233417,g=2562383102,v=271733878,w=3285377520,I=[];for(e=utf8_encode(e),d=e.length,n=0;n<d-3;n+=4)r=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),I.push(r);switch(3&d){case 0:n=2147483648;break;case 1:n=e.charCodeAt(d-1)<<24|8388608;break;case 2:n=e.charCodeAt(d-2)<<24|e.charCodeAt(d-1)<<16|32768;break;case 3:n=e.charCodeAt(d-3)<<24|e.charCodeAt(d-2)<<16|e.charCodeAt(d-1)<<8|128}for(I.push(n);14!==(15&I.length);)I.push(0);for(I.push(d>>>29),I.push(d<<3&4294967295),t=0;t<I.length;t+=16){for(n=0;n<16;n++)p[n]=I[t+n];for(n=16;n<=79;n++)p[n]=f(p[n-3]^p[n-8]^p[n-14]^p[n-16],1);for(o=h,i=m,a=g,s=v,c=w,n=0;n<=19;n++)u=f(o,5)+(i&a|~i&s)+c+p[n]+1518500249&4294967295,c=s,s=a,a=f(i,30),i=o,o=u;for(n=20;n<=39;n++)u=f(o,5)+(i^a^s)+c+p[n]+1859775393&4294967295,c=s,s=a,a=f(i,30),i=o,o=u;for(n=40;n<=59;n++)u=f(o,5)+(i&a|i&s|a&s)+c+p[n]+2400959708&4294967295,c=s,s=a,a=f(i,30),i=o,o=u;for(n=60;n<=79;n++)u=f(o,5)+(i^a^s)+c+p[n]+3395469782&4294967295,c=s,s=a,a=f(i,30),i=o,o=u;h=h+o&4294967295,m=m+i&4294967295,g=g+a&4294967295,v=v+s&4294967295,w=w+c&4294967295}return u=l(h)+l(m)+l(g)+l(v)+l(w),u.toLowerCase()}!function(e){"use strict";e.timing={getTimes:function(t){var n=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance;if(void 0===n)return!1;var r=n.timing,o={};if(t=t||{},r){if(t&&!t.simple)for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);if(void 0===o.firstPaint){var a=0;e.chrome&&e.chrome.loadTimes?(a=1e3*e.chrome.loadTimes().firstPaintTime,o.firstPaintTime=a):"number"==typeof e.performance.timing.msFirstPaint&&(a=e.performance.timing.msFirstPaint,o.firstPaintTime=a),t&&!t.simple&&(o.firstPaint=a)}o.loadTime=r.loadEventEnd-r.fetchStart,o.domReadyTime=r.domComplete-r.domInteractive,o.readyStart=r.fetchStart-r.navigationStart,o.redirectTime=r.redirectEnd-r.redirectStart,o.appcacheTime=r.domainLookupStart-r.fetchStart,o.unloadEventTime=r.unloadEventEnd-r.unloadEventStart,o.lookupDomainTime=r.domainLookupEnd-r.domainLookupStart,o.connectTime=r.connectEnd-r.connectStart,o.requestTime=r.responseEnd-r.requestStart,o.initDomTreeTime=r.domInteractive-r.responseEnd,o.loadEventTime=r.loadEventEnd-r.loadEventStart;var s=r.navigationStart||r.fetchStart;o.t_unload=r.unloadEventEnd-r.unloadEventStart,o.t_redirect=r.redirectEnd-r.redirectStart,o.t_dns=r.domainLookupEnd-r.domainLookupStart,o.t_tcp=r.connectEnd-r.connectStart,o.t_request=r.responseStart-r.requestStart,o.t_response=r.responseEnd-r.responseStart,o.t_paint=parseInt(o.firstPaintTime)-parseInt(s),o.t_paint=o.t_paint<0?0:o.t_paint,o.t_dom=r.domContentLoadedEventStart-r.domLoading,o.t_domready=r.domContentLoadedEventStart-s,o.t_load=r.loadEventStart-r.domLoading,o.t_onload=r.loadEventStart-s,o.t_white=r.responseStart-s,o.t_all=r.loadEventEnd-s}return o},printTable:function(e){var t={},n=this.getTimes(e)||{};Object.keys(n).sort().forEach(function(e){t[e]={ms:n[e],s:+(n[e]/1e3).toFixed(2)}}),console.table(t)},printSimpleTable:function(){this.printTable({simple:!0})}}}(this),UISEvent=function(e){this.uis=e;var t=new Date,n=e.getOption("userId"),r=this.getValuesFromVisitorIdCookie(),o=this.loadReferrerAttributionCookie(),i=(o[0],o[1],o[2],o[3],document.characterSet||document.charset);i&&"utf-8"!==i.toLowerCase()||(i=null),this.properties={},this.id="",this.set("site_id",e.getOption("siteId")),this.set("client_ts",t.getTime()),n&&this.set("user_id",n),this.set("visitor_id",r.uuid),this.set("res",window.screen.width+" * "+window.screen.height),this.set("res_x",window.screen.width),this.set("res_y",window.screen.height),this.set("page_title",document.title);var a=e.urlFixup(document.domain,window.location.href,e.getReferrer()),s=decodeURIComponent(a[2]);this.set("url",window.location.href),s&&this.set("url_ref",s),this.set("host",window.location.host)},UISEvent.prototype={get:function(e){if(this.properties.hasOwnProperty(e))return this.properties[e]},set:function(e,t){this.properties[e]=t},setEventType:function(e){this.set("type",e)},setAction:function(e){this.set("action_id",e),window.action_id=e},getProperties:function(){return this.properties},merge:function(e){for(param in e)e.hasOwnProperty(param)&&this.set(param,e[param])},isSet:function(e){if(this.properties.hasOwnProperty(e))return!0},generateRandomUuid:function(){return hash((navigator.userAgent||"")+(navigator.platform||"")+(new Date).getTime()+Math.random()).slice(0,16)},loadVisitorIdCookie:function(){var e,t=new Date,n=Math.round(t.getTime()/1e3),r=this.uis.getCookieName("id"),o=this.uis.getCookieName("visitorId"),i=UIS.getCookie(r),a=UIS.getCookie(o);return i?(e=i.split("."),e.unshift("0"),e):(a||(a=this.generateRandomUuid(),UIS.setCookie(o,a)),e=["1",a,n,0,n,"",""])},getValuesFromVisitorIdCookie:function(){var e=this.loadVisitorIdCookie(),t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5];UIS.isDefined(e[6])||(e[6]="");var s=e[6];return{newVisitor:t,uuid:n,createTs:r,visitCount:o,currentVisitTs:i,lastVisitTs:a,lastEcommerceOrderTs:s}},getVisitorId:function(){return this.getValuesFromVisitorIdCookie().uuid},loadReferrerAttributionCookie:function(){var e=UIS.getCookie(this.uis.getCookieName("ref"));if(e.length)try{if(e=JSON.parse(e),UIS.is_object(e))return e}catch(t){}return["","",0,""]}};var UIS=function(){this.config={trackerUrl:"",getRequestCharacterLimit:2e3,configCookieNamePrefix:"_pk_",siteId:"",userId:"",visitorId:""},this.isClickTrackingEnabled=!1};UIS.is_array=function(e){return"object"==typeof e&&e instanceof Array},UIS.is_object=function(e){return!(e instanceof Array)&&(null!==e&&"object"==typeof e)},UIS.isDefined=function(e){var t=typeof e;return"undefined"!==t},UIS.strtolower=function(e){return(e+"").toLowerCase()},UIS.clone=function(e){var t=e instanceof Array?[]:{};for(var n in e)e[n]&&"object"==typeof e[n]?t[n]=UIS.clone(e[n]):t[n]=e[n];return t},UIS.isIE=function(){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent))return!0},UIS.getInternetExplorerVersion=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e},UIS.strpos=function(e,t,n){var r=(e+"").indexOf(t,n||0);return r!==-1&&r},UIS.trim=function(e,t){var n,r=0,o=0;for(e+="",t?(t+="",n=t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):n=" \n\r\t\f\x0B            ​\u2028\u2029　",r=e.length,o=0;o<r;o++)if(n.indexOf(e.charAt(o))===-1){e=e.substring(o);break}for(r=e.length,o=r-1;o>=0;o--)if(n.indexOf(e.charAt(o))===-1){e=e.substring(0,o+1);break}return n.indexOf(e.charAt(0))===-1?e:""},UIS.setCookie=function(e,t,n,r,o,i){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+(n?"; expires="+a.toGMTString():"")+(r?"; path="+r:"")+(o?"; domain="+o:"")+(i?"; secure":"")},UIS.readAllCookies=function(){var e={},t=document.cookie.split(";");if(t){for(var n=0;n<t.length;n++){var r=UIS.trim(t[n]),o=UIS.strpos(r,"="),i=r.substring(0,o),a=r.substring(o+1,r.length);e.hasOwnProperty(i)||(e[i]=[]),e[i].push(a)}return e}},UIS.getCookie=function(e){var t=UIS.readAllCookies();if(t)return t.hasOwnProperty(e)?t[e][0]:""},UIS.isDebug=!1,UIS.debug=function(){this.isDebug&&window.console&&console.log.apply&&(window.console.firebug?console.log.apply(this,arguments):console.log.apply(console,arguments))},UIS.urlEncode=function(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},UIS.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))},UIS.sprintf=function(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,t=arguments,n=0,r=t[n++],o=function(e,t,n,r){n||(n=" ");var o=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+o:o+e},i=function(e,t,n,r,i,a){var s=r-e.length;return s>0&&(e=n||!i?o(e,r,a,n):e.slice(0,t.length)+o("",s,"0",!0)+e.slice(t.length)),e},a=function(e,t,n,r,a,s,c){var u=e>>>0;return n=n&&u&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+o(u.toString(t),s||0,"0",!1),i(e,n,r,a,c)},s=function(e,t,n,r,o,a){return null!=r&&(e=e.slice(0,r)),i(e,"",t,n,o,a)},c=function(e,r,c,u,d,f,l){var p,h,m,g,v;if("%%"==e)return"%";for(var w=!1,I="",S=!1,E=!1,U=" ",_=c.length,k=0;c&&k<_;k++)switch(c.charAt(k)){case" ":I=" ";break;case"+":I="+";break;case"-":w=!0;break;case"'":U=c.charAt(k+1);break;case"0":S=!0;break;case"#":E=!0}if(u=u?"*"==u?+t[n++]:"*"==u.charAt(0)?+t[u.slice(1,-1)]:+u:0,u<0&&(u=-u,w=!0),!isFinite(u))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+t[n++]:"*"==f.charAt(0)?+t[f.slice(1,-1)]:+f:"fFeE".indexOf(l)>-1?6:"d"==l?0:void 0,v=r?t[r.slice(0,-1)]:t[n++],l){case"s":return s(String(v),w,u,f,S,U);case"c":return s(String.fromCharCode(+v),w,u,f,S);case"b":return a(v,2,E,w,u,f,S);case"o":return a(v,8,E,w,u,f,S);case"x":return a(v,16,E,w,u,f,S);case"X":return a(v,16,E,w,u,f,S).toUpperCase();case"u":return a(v,10,E,w,u,f,S);case"i":case"d":return p=parseInt(+v,10),h=p<0?"-":I,v=h+o(String(Math.abs(p)),f,"0",!1),i(v,h,w,u,S);case"e":case"E":case"f":case"F":case"g":case"G":return p=+v,h=p<0?"-":I,m=["toExponential","toFixed","toPrecision"]["efg".indexOf(l.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(l)%2],v=h+Math.abs(p)[m](f),i(v,h,w,u,S)[g]();default:return e}};return r.replace(e,c)},UIS.fn=UIS.prototype,UIS.fn.setOption=function(e,t){this.config[e]=t},UIS.fn.getOption=function(e){return this.config[e]},UIS.fn.getCookieName=function(e){return this.config.configCookieNamePrefix+e+"."+this.config.siteId},UIS.fn.prepareRequestData=function(e){var t={};for(var n in e){if(e.hasOwnProperty(n))if(UIS.is_array(e[n]))for(var r=e[n].length,o=0;o<r;o++)if(UIS.is_object(e[n][o]))for(var i in e[n][o])t[UIS.sprintf("%s[%s][%s]",n,o,i)]=UIS.urlEncode(e[n][o][i]);else t[UIS.sprintf("%s[%s]",n,o)]=UIS.urlEncode(e[n][o]);else t[UIS.sprintf("%s",n)]=UIS.urlEncode(e[n])}return t},UIS.fn.prepareRequestDataForGet=function(e){var e=this.prepareRequestData(e),t="";for(var n in e)if(e.hasOwnProperty(n)){var r="";r=UIS.sprintf("%s=%s&",n,e[n]),t+=r}return t},UIS.fn._parseRequestUrl=function(e){var t=this.prepareRequestDataForGet(e),n=this.getOption("trackerUrl");n+=n.indexOf("?")===-1?"?":"&";var r=n+t;return r},UIS.fn.getIframeDocument=function(e){var t=null;return e.contentDocument?t=e.contentDocument:e.contentWindow&&e.contentWindow.document?t=e.contentWindow.document:e.document&&(t=e.document),null==t&&UIS.debug("Document not found, append the parent element to the DOM before creating the IFrame"),t.open(),t.close(),t},UIS.fn.postFromIframe=function(e,t){var n=this.getOption("trackerUrl"),r=this.getIframeDocument(e),o="post_form"+Math.random();if(UIS.isIE()&&UIS.getInternetExplorerVersion()<9)var i=r.createElement('<form name="'+o+'"></form>');else{var i=r.createElement("form");i.setAttribute("name",o)}i.setAttribute("id",o),i.setAttribute("action",n),i.setAttribute("method","POST");for(var a in t)if(t.hasOwnProperty(a)){if(UIS.isIE()&&UIS.getInternetExplorerVersion()<9)var s=r.createElement("<input type='hidden' name='"+a+"' />");else{var s=document.createElement("input");s.setAttribute("name",a),s.setAttribute("type","hidden")}s.setAttribute("value",t[a]),i.appendChild(s)}r.body.appendChild(i),r.forms[o].submit(),r.body.removeChild(i)},UIS.fn.generateHiddenIframe=function(e,t){var n="uis-tracker-post-iframe";if(UIS.isIE()&&UIS.getInternetExplorerVersion()<9)var r=document.createElement('<iframe name="'+n+'" scr="about:blank" width="1" height="1"></iframe>');else{var r=document.createElement("iframe");r.setAttribute("name",n),r.setAttribute("src","about:blank"),r.setAttribute("width",1),r.setAttribute("height",1)}r.setAttribute("class",n),r.setAttribute("style","border: none;");var o=this;null==e&&(e=document.body),e.appendChild(r);var i=setInterval(function(){var e=o.getIframeDocument(r);e&&(o.postFromIframe(r,t),clearInterval(i))},1),a=setInterval(function(){e.removeChild(r),clearInterval(a)},1e3)},UIS.fn.cdPost=function(e){var t="uis-tracker-post-container",n=(this.getOption("trackerUrl"),document.getElementById(t));if(!n){var r=document.createElement("div");r.setAttribute("id",t),document.body.appendChild(r),n=document.getElementById(t)}this.generateHiddenIframe(n,e)},UIS.fn._getTarget=function(e){var t=e.target||e.srcElement;return"undefined"==typeof t||null==t?null:(3==t.nodeType&&(t=target.parentNode),t)},UIS.fn.findPosX=function(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetLeft,e=e.offsetParent;else e.x&&(t+=e.x);return t},UIS.fn.findPosY=function(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;else e.y&&(t+=e.y);return t},UIS.fn.getReferrer=function(){var e="";try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(n){e=""}}return""===e&&(e=document.referrer),e},UIS.fn.getParameter=function(e,t){var n="[\\?&#]"+t+"=([^&#]*)",r=new RegExp(n),o=r.exec(e);return o?decodeURIComponent(o[1]):""},UIS.fn.getHostName=function(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),n=t.exec(e);return n?n[1]:e},UIS.fn.urlFixup=function(e,t,n){return e||(e=""),t||(t=""),"translate.googleusercontent.com"===e?(""===n&&(n=t),t=this.getParameter(t,"u"),e=this.getHostName(t)):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e&&"74.6."!==e.slice(0,5)||(t=document.links[0].href,e=this.getHostName(t)),[e,t,n]},UIS.fn.logEvent=function(e,t,n){var r=this._parseRequestUrl(e),o=this.getOption("getRequestCharacterLimit");if(r.length>o){var i=this.prepareRequestData(e);this.cdPost(i)}else{UIS.debug("url : %s",r);var a=new Image(1,1);a.onLoad=function(){},a.src=r,UIS.debug("Inserted web bug for %s",e.event_type)}n&&"function"==typeof n&&n()},UIS.fn.clickEventHandler=function(e){e=e||window.event;var t=new UISEvent(this);t.setEventType("click");var n=this._getTarget(e),r="(not set)",o=t.generateRandomUuid();t.setAction(o),n.hasOwnProperty&&n.hasOwnProperty("value")&&n.value.length>0&&(r=n.value),t.set("click_text",n.innerText),n.hasOwnProperty&&n.hasOwnProperty("name")&&n.name.length>0&&t.set("click_name",n.name),n.hasOwnProperty&&n.hasOwnProperty("value")&&n.value.length>0&&t.set("click_value",n.value),n.hasOwnProperty&&n.hasOwnProperty("id")&&n.id.length>0&&t.set("click_id",n.id),n.className&&n.className.length>0&&t.set("click_class",n.className),t.set("click_tag",UIS.strtolower(n.tagName)),t.set("click_pos_x",this.findPosX(n)),t.set("click_pos_y",this.findPosY(n)),this.logEvent(t.getProperties())},UIS.fn.bindClickEvents=function(){if(!this.isClickTrackingEnabled){var e=this;window.addEventListener?window.addEventListener("click",function(t){e.clickEventHandler(t)},!1):window.attachEvent&&document.attachEvent("onclick",function(t){e.clickEventHandler(t)}),this.isClickTrackingEnabled=!0}},UIS.fn.trackClicks=function(e){this.bindClickEvents()},UIS.fn.trackJqueryAjax=function(e){var t=this,n=e.ajax;e.ajax=function(r,o){"object"==typeof r&&(o=r,r=void 0),o=o||{};var i,a=o.complete,s=(new Date).getTime(),c=o.url;return o.beforeSend=function(e){e.setRequestHeader("Action-Id",window.action_id)},o.dataFilter=function(e,t){return i=(new Date).getTime(),e},o.complete=function(n,r,o){var u=n.getResponseHeader("txID"),d=n.getResponseHeader("Action-Id"),f=n.getResponseHeader("Content-Length");e.isFunction(a)&&a.apply(this,arguments);var l=(new Date).getTime(),p=i-s,h=l-s,m=new UISEvent(t);m.setEventType("ajax"),m.setAction(d),m.set("ajax_id",u),m.set("content_length",f||0),m.set("ajax_tm",p),m.set("ajax_tm_cb",h),m.set("url_ajax",c),t.logEvent(m.getProperties())},n(r,o)}},UIS.fn._trackRouterEvent=function(e){var t=this.urlFixup(document.domain,window.location.href,this.getReferrer()),n=decodeURIComponent(t[2]);e.set("url",window.location.href),n&&e.set("url_ref",n)},UIS.fn.trackRouter=function(){var e=this,t=function(t){var n=new UISEvent(e);n.setEventType("page_route"),e._trackRouterEvent(n),e.logEvent(n.getProperties())},n=function(t){var n=new UISEvent(e);n.setEventType("page_route"),e._trackRouterEvent(n),e.logEvent(n.getProperties())};"undefined"!=typeof window.onhashchange&&(window.addEventListener?window.addEventListener("hashchange",t,!1):window.attachEvent&&window.attachEvent("onhashchange",t)),"undefined"!=typeof window.onpopstate&&(window.addEventListener?window.addEventListener("popstate",n,!1):window.attachEvent&&window.attachEvent("onpopstate",n)),window.history.pushState&&(window.history._pushState=window.history.pushState,window.history.pushState=function(t,n,r){window.history._pushState(t,n,r);var o=new UISEvent(e);o.setEventType("page_route"),e._trackRouterEvent(o),e.logEvent(o.getProperties())}),window.history.replaceState&&(window.history._replaceState=window.history.replaceState,window.history.replaceState=function(t,n,r){window.history._replaceState(t,n,r);var o=new UISEvent(e);o.setEventType("page_route"),e._trackRouterEvent(o),e.logEvent(o.getProperties())})},UIS.fn.trackPageLoad=function(){var e=this,t=new UISEvent(this),n=window.timing.getTimes();if(n.loadTime>0){var r=t.generateRandomUuid();t.setEventType("page_load"),t.setAction(r),t.set("t_unload",n.t_unload||0),t.set("t_redirect",n.t_redirect||0),t.set("t_dns",n.t_dns||0),t.set("t_tcp",n.t_tcp||0),t.set("t_request",n.t_request||0),t.set("t_response",n.t_response||0),t.set("t_paint",n.t_paint||0),t.set("t_dom",n.t_dom||0),t.set("t_domready",n.t_domready||0),t.set("t_load",n.t_load||0),t.set("t_onload",n.t_onload||0),t.set("t_white",n.t_white||0),t.set("t_all",n.t_all||0),t.set("ajax_tm",n.t_all||0),this.logEvent(t.getProperties())}else setTimeout(function(){e.trackPageLoad()},400)},UIS.fn.log=function(e){if("object"==typeof e){var t=new UISEvent(this);t.setEventType("custom");for(var n in e)0==n.indexOf("ext")&&t.set(n,e[n]);this.logEvent(t.getProperties())}},UIS.fn.trackError=function(){window.onerror=function(e,t,n,r,o){return"Script error."!=e&&!t||void setTimeout(function(){var e={};if(r=r||window.event&&window.event.errorCharacter||0,e.url=t,e.line=n,e.col=r,o&&o.stack)e.msg=o.stack.toString();else if(arguments.callee){for(var i=[],a=arguments.callee.caller,s=3;a&&--s>0&&(i.push(a.toString()),a!==a.caller);)a=a.caller;i=i.join(","),e.msg=i}var c=window.uis||new UIS,u=new UISEvent(c);u.setEventType("jserror"),u.set("error_js",e.url),u.set("error_line",e.line),u.set("error_col",e.col),u.set("error_msg",e.msg),c.logEvent(u.getProperties())},0)}};