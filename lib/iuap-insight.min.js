function utf8_encode(e){return decodeURI(encodeURIComponent(e))}function hash(e){var t,n,r,i,o,a,s,c,d,u,f=function(e,t){return e<<t|e>>>32-t},l=function(e){var t,n,r="";for(t=7;t>=0;t--)n=e>>>4*t&15,r+=n.toString(16);return r},p=[],h=1732584193,m=4023233417,g=2562383102,v=271733878,w=3285377520,I=[];for(e=utf8_encode(e),u=e.length,n=0;n<u-3;n+=4)r=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),I.push(r);switch(3&u){case 0:n=2147483648;break;case 1:n=e.charCodeAt(u-1)<<24|8388608;break;case 2:n=e.charCodeAt(u-2)<<24|e.charCodeAt(u-1)<<16|32768;break;case 3:n=e.charCodeAt(u-3)<<24|e.charCodeAt(u-2)<<16|e.charCodeAt(u-1)<<8|128}for(I.push(n);14!==(15&I.length);)I.push(0);for(I.push(u>>>29),I.push(u<<3&4294967295),t=0;t<I.length;t+=16){for(n=0;n<16;n++)p[n]=I[t+n];for(n=16;n<=79;n++)p[n]=f(p[n-3]^p[n-8]^p[n-14]^p[n-16],1);for(i=h,o=m,a=g,s=v,c=w,n=0;n<=19;n++)d=f(i,5)+(o&a|~o&s)+c+p[n]+1518500249&4294967295,c=s,s=a,a=f(o,30),o=i,i=d;for(n=20;n<=39;n++)d=f(i,5)+(o^a^s)+c+p[n]+1859775393&4294967295,c=s,s=a,a=f(o,30),o=i,i=d;for(n=40;n<=59;n++)d=f(i,5)+(o&a|o&s|a&s)+c+p[n]+2400959708&4294967295,c=s,s=a,a=f(o,30),o=i,i=d;for(n=60;n<=79;n++)d=f(i,5)+(o^a^s)+c+p[n]+3395469782&4294967295,c=s,s=a,a=f(o,30),o=i,i=d;h=h+i&4294967295,m=m+o&4294967295,g=g+a&4294967295,v=v+s&4294967295,w=w+c&4294967295}return d=l(h)+l(m)+l(g)+l(v)+l(w),d.toLowerCase()}!function(e){"use strict";e.timing={getTimes:function(t){var n=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance;if(void 0===n)return!1;var r=n.timing,i={};if(t=t||{},r){if(t&&!t.simple)for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);if(void 0===i.firstPaint){var a=0;e.chrome&&e.chrome.loadTimes?(a=1e3*e.chrome.loadTimes().firstPaintTime,i.firstPaintTime=a):"number"==typeof e.performance.timing.msFirstPaint&&(a=e.performance.timing.msFirstPaint,i.firstPaintTime=a),t&&!t.simple&&(i.firstPaint=a)}i.loadTime=r.loadEventEnd-r.fetchStart,i.domReadyTime=r.domComplete-r.domInteractive,i.readyStart=r.fetchStart-r.navigationStart,i.redirectTime=r.redirectEnd-r.redirectStart,i.appcacheTime=r.domainLookupStart-r.fetchStart,i.unloadEventTime=r.unloadEventEnd-r.unloadEventStart,i.lookupDomainTime=r.domainLookupEnd-r.domainLookupStart,i.connectTime=r.connectEnd-r.connectStart,i.requestTime=r.responseEnd-r.requestStart,i.initDomTreeTime=r.domInteractive-r.responseEnd,i.loadEventTime=r.loadEventEnd-r.loadEventStart;var s=r.navigationStart||r.fetchStart;i.t_unload=r.unloadEventEnd-r.unloadEventStart,i.t_redirect=r.redirectEnd-r.redirectStart,i.t_dns=r.domainLookupEnd-r.domainLookupStart,i.t_tcp=r.connectEnd-r.connectStart,i.t_request=r.responseStart-r.requestStart,i.t_response=r.responseEnd-r.responseStart,i.t_paint=parseInt(i.firstPaintTime)-parseInt(s),i.t_paint=i.t_paint<0?0:i.t_paint,i.t_dom=r.domContentLoadedEventStart-r.domLoading,i.t_domready=r.domContentLoadedEventStart-s,i.t_load=r.loadEventStart-r.domLoading,i.t_onload=r.loadEventStart-s,i.t_white=r.responseStart-s,i.t_all=r.loadEventEnd-s}return i},printTable:function(e){var t={},n=this.getTimes(e)||{};Object.keys(n).sort().forEach(function(e){t[e]={ms:n[e],s:+(n[e]/1e3).toFixed(2)}}),console.table(t)},printSimpleTable:function(){this.printTable({simple:!0})}}}(this),UISEvent=function(e){this.uis=e;var t=new Date,n=e.getOption("userId"),r=this.getValuesFromVisitorIdCookie(),i=this.loadReferrerAttributionCookie(),o=(i[0],i[1],i[2],i[3],document.characterSet||document.charset);o&&"utf-8"!==o.toLowerCase()||(o=null),this.properties={},this.id="",this.set("site_id",e.getOption("siteId")),this.set("client_ts",t.getTime()),n&&this.set("user_id",n),this.set("visitor_id",r.uuid),this.set("res",window.screen.width+" * "+window.screen.height),this.set("res_x",window.screen.width),this.set("res_y",window.screen.height),this.set("page_title",document.title);var a=e.urlFixup(document.domain,window.location.href,e.getReferrer()),s=decodeURIComponent(a[2]);this.set("url",window.location.href),s&&this.set("url_ref",s),this.set("host",window.location.host)},UISEvent.prototype={get:function(e){if(this.properties.hasOwnProperty(e))return this.properties[e]},set:function(e,t){this.properties[e]=t},setEventType:function(e){this.set("type",e)},setAction:function(e){this.set("action_id",e),window.action_id=e},getProperties:function(){return this.properties},merge:function(e){for(param in e)e.hasOwnProperty(param)&&this.set(param,e[param])},isSet:function(e){if(this.properties.hasOwnProperty(e))return!0},generateRandomUuid:function(){return hash((navigator.userAgent||"")+(navigator.platform||"")+(new Date).getTime()+Math.random()).slice(0,16)},loadVisitorIdCookie:function(){var e,t=new Date,n=Math.round(t.getTime()/1e3),r=this.uis.getCookieName("id"),i=this.uis.getCookieName("visitorId"),o=UIS.getCookie(r),a=UIS.getCookie(i);return o?(e=o.split("."),e.unshift("0"),e):(a||(a=this.generateRandomUuid(),UIS.setCookie(i,a)),e=["1",a,n,0,n,"",""])},getValuesFromVisitorIdCookie:function(){var e=this.loadVisitorIdCookie(),t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5];UIS.isDefined(e[6])||(e[6]="");var s=e[6];return{newVisitor:t,uuid:n,createTs:r,visitCount:i,currentVisitTs:o,lastVisitTs:a,lastEcommerceOrderTs:s}},getVisitorId:function(){return this.getValuesFromVisitorIdCookie().uuid},loadReferrerAttributionCookie:function(){var e=UIS.getCookie(this.uis.getCookieName("ref"));if(e.length)try{if(e=JSON.parse(e),UIS.is_object(e))return e}catch(t){}return["","",0,""]}};var UIS=function(){this.config={trackerUrl:"",getRequestCharacterLimit:2e3,configCookieNamePrefix:"_pk_",siteId:"",userId:"",visitorId:""},this.isClickTrackingEnabled=!1,this.isTrackingJqueryAjax=!1,this.isTrackedClick=!1};UIS.is_array=function(e){return"object"==typeof e&&e instanceof Array},UIS.is_object=function(e){return!(e instanceof Array)&&(null!==e&&"object"==typeof e)},UIS.isDefined=function(e){var t=typeof e;return"undefined"!==t},UIS.strtolower=function(e){return(e+"").toLowerCase()},UIS.clone=function(e){var t=e instanceof Array?[]:{};for(var n in e)e[n]&&"object"==typeof e[n]?t[n]=UIS.clone(e[n]):t[n]=e[n];return t},UIS.isIE=function(){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent))return!0},UIS.getInternetExplorerVersion=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e},UIS.strpos=function(e,t,n){var r=(e+"").indexOf(t,n||0);return r!==-1&&r},UIS.trim=function(e,t){var n,r=0,i=0;for(e+="",t?(t+="",n=t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):n=" \n\r\t\f\x0B            ​\u2028\u2029　",r=e.length,i=0;i<r;i++)if(n.indexOf(e.charAt(i))===-1){e=e.substring(i);break}for(r=e.length,i=r-1;i>=0;i--)if(n.indexOf(e.charAt(i))===-1){e=e.substring(0,i+1);break}return n.indexOf(e.charAt(0))===-1?e:""},UIS.setCookie=function(e,t,n,r,i,o){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+(n?"; expires="+a.toGMTString():"")+(r?"; path="+r:"")+(i?"; domain="+i:"")+(o?"; secure":"")},UIS.readAllCookies=function(){var e={},t=document.cookie.split(";");if(t){for(var n=0;n<t.length;n++){var r=UIS.trim(t[n]),i=UIS.strpos(r,"="),o=r.substring(0,i),a=r.substring(i+1,r.length);e.hasOwnProperty(o)||(e[o]=[]),e[o].push(a)}return e}},UIS.getCookie=function(e){var t=UIS.readAllCookies();if(t)return t.hasOwnProperty(e)?t[e][0]:""},UIS.isDebug=!1,UIS.debug=function(){this.isDebug&&window.console&&console.log.apply&&(window.console.firebug?console.log.apply(this,arguments):console.log.apply(console,arguments))},UIS.urlEncode=function(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},UIS.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))},UIS.sprintf=function(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,t=arguments,n=0,r=t[n++],i=function(e,t,n,r){n||(n=" ");var i=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+i:i+e},o=function(e,t,n,r,o,a){var s=r-e.length;return s>0&&(e=n||!o?i(e,r,a,n):e.slice(0,t.length)+i("",s,"0",!0)+e.slice(t.length)),e},a=function(e,t,n,r,a,s,c){var d=e>>>0;return n=n&&d&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+i(d.toString(t),s||0,"0",!1),o(e,n,r,a,c)},s=function(e,t,n,r,i,a){return null!=r&&(e=e.slice(0,r)),o(e,"",t,n,i,a)},c=function(e,r,c,d,u,f,l){var p,h,m,g,v;if("%%"==e)return"%";for(var w=!1,I="",S=!1,E=!1,k=" ",U=c.length,_=0;c&&_<U;_++)switch(c.charAt(_)){case" ":I=" ";break;case"+":I="+";break;case"-":w=!0;break;case"'":k=c.charAt(_+1);break;case"0":S=!0;break;case"#":E=!0}if(d=d?"*"==d?+t[n++]:"*"==d.charAt(0)?+t[d.slice(1,-1)]:+d:0,d<0&&(d=-d,w=!0),!isFinite(d))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+t[n++]:"*"==f.charAt(0)?+t[f.slice(1,-1)]:+f:"fFeE".indexOf(l)>-1?6:"d"==l?0:void 0,v=r?t[r.slice(0,-1)]:t[n++],l){case"s":return s(String(v),w,d,f,S,k);case"c":return s(String.fromCharCode(+v),w,d,f,S);case"b":return a(v,2,E,w,d,f,S);case"o":return a(v,8,E,w,d,f,S);case"x":return a(v,16,E,w,d,f,S);case"X":return a(v,16,E,w,d,f,S).toUpperCase();case"u":return a(v,10,E,w,d,f,S);case"i":case"d":return p=parseInt(+v,10),h=p<0?"-":I,v=h+i(String(Math.abs(p)),f,"0",!1),o(v,h,w,d,S);case"e":case"E":case"f":case"F":case"g":case"G":return p=+v,h=p<0?"-":I,m=["toExponential","toFixed","toPrecision"]["efg".indexOf(l.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(l)%2],v=h+Math.abs(p)[m](f),o(v,h,w,d,S)[g]();default:return e}};return r.replace(e,c)},UIS.fn=UIS.prototype,UIS.fn.setOption=function(e,t){this.config[e]=t},UIS.fn.getOption=function(e){return this.config[e]},UIS.fn.getCookieName=function(e){return this.config.configCookieNamePrefix+e+"."+this.config.siteId},UIS.fn.prepareRequestData=function(e){var t={};for(var n in e){if(e.hasOwnProperty(n))if(UIS.is_array(e[n]))for(var r=e[n].length,i=0;i<r;i++)if(UIS.is_object(e[n][i]))for(var o in e[n][i])t[UIS.sprintf("%s[%s][%s]",n,i,o)]=UIS.urlEncode(e[n][i][o]);else t[UIS.sprintf("%s[%s]",n,i)]=UIS.urlEncode(e[n][i]);else t[UIS.sprintf("%s",n)]=UIS.urlEncode(e[n])}return t},UIS.fn.prepareRequestDataForGet=function(e){var e=this.prepareRequestData(e),t="";for(var n in e)if(e.hasOwnProperty(n)){var r="";r=UIS.sprintf("%s=%s&",n,e[n]),t+=r}return t},UIS.fn._parseRequestUrl=function(e){var t=this.prepareRequestDataForGet(e),n=this.getOption("trackerUrl");n+=n.indexOf("?")===-1?"?":"&";var r=n+t;return r},UIS.fn.getIframeDocument=function(e){var t=null;return e.contentDocument?t=e.contentDocument:e.contentWindow&&e.contentWindow.document?t=e.contentWindow.document:e.document&&(t=e.document),null==t&&UIS.debug("Document not found, append the parent element to the DOM before creating the IFrame"),t.open(),t.close(),t},UIS.fn.postFromIframe=function(e,t){var n=this.getOption("trackerUrl"),r=this.getIframeDocument(e),i="post_form"+Math.random();if(UIS.isIE()&&UIS.getInternetExplorerVersion()<9)var o=r.createElement('<form name="'+i+'"></form>');else{var o=r.createElement("form");o.setAttribute("name",i)}o.setAttribute("id",i),o.setAttribute("action",n),o.setAttribute("method","POST");for(var a in t)if(t.hasOwnProperty(a)){if(UIS.isIE()&&UIS.getInternetExplorerVersion()<9)var s=r.createElement("<input type='hidden' name='"+a+"' />");else{var s=document.createElement("input");s.setAttribute("name",a),s.setAttribute("type","hidden")}s.setAttribute("value",t[a]),o.appendChild(s)}r.body.appendChild(o),r.forms[i].submit(),r.body.removeChild(o)},UIS.fn.generateHiddenIframe=function(e,t){var n="uis-tracker-post-iframe";if(UIS.isIE()&&UIS.getInternetExplorerVersion()<9)var r=document.createElement('<iframe name="'+n+'" scr="about:blank" width="1" height="1"></iframe>');else{var r=document.createElement("iframe");r.setAttribute("name",n),r.setAttribute("src","about:blank"),r.setAttribute("width",1),r.setAttribute("height",1)}r.setAttribute("class",n),r.setAttribute("style","border: none;");var i=this;null==e&&(e=document.body),e.appendChild(r);var o=setInterval(function(){var e=i.getIframeDocument(r);e&&(i.postFromIframe(r,t),clearInterval(o))},1),a=setInterval(function(){e.removeChild(r),clearInterval(a)},1e3)},UIS.fn.cdPost=function(e){var t="uis-tracker-post-container",n=(this.getOption("trackerUrl"),document.getElementById(t));if(!n){var r=document.createElement("div");r.setAttribute("id",t),document.body.appendChild(r),n=document.getElementById(t)}this.generateHiddenIframe(n,e)},UIS.fn._getTarget=function(e){var t=e.target||e.srcElement;return"undefined"==typeof t||null==t?null:(3==t.nodeType&&(t=target.parentNode),t)},UIS.fn.findPosX=function(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetLeft,e=e.offsetParent;else e.x&&(t+=e.x);return t},UIS.fn.findPosY=function(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;else e.y&&(t+=e.y);return t},UIS.fn.getReferrer=function(){var e="";try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(n){e=""}}return""===e&&(e=document.referrer),e},UIS.fn.getParameter=function(e,t){var n="[\\?&#]"+t+"=([^&#]*)",r=new RegExp(n),i=r.exec(e);return i?decodeURIComponent(i[1]):""},UIS.fn.getHostName=function(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),n=t.exec(e);return n?n[1]:e},UIS.fn.track=function(e,t,n){uis.setOption(t,n),this.clickEventHandler(e,!0)},UIS.fn.urlFixup=function(e,t,n){return e||(e=""),t||(t=""),"translate.googleusercontent.com"===e?(""===n&&(n=t),t=this.getParameter(t,"u"),e=this.getHostName(t)):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e&&"74.6."!==e.slice(0,5)||(t=document.links[0].href,e=this.getHostName(t)),[e,t,n]},UIS.fn.logEvent=function(e,t,n){this.isTrackingJqueryAjax===!1&&window.$&&window.$.ajax&&this.trackJqueryAjax(window.$);var r=this._parseRequestUrl(e),i=this.getOption("getRequestCharacterLimit");if(r.length>i){var o=this.prepareRequestData(e);this.cdPost(o)}else{UIS.debug("url : %s",r);var a=new Image(1,1);a.onLoad=function(){},a.src=r,UIS.debug("Inserted web bug for %s",e.event_type)}n&&"function"==typeof n&&n()},UIS.fn.clickEventHandler=function(e,t){if(e=e||window.event,this.isTrackedClick)return void(this.isTrackedClick=!1);this.isTrackedClick=!0,t||(this.isTrackedClick=!1);var n=new UISEvent(this);n.setEventType("click");var r=this._getTarget(e),i="(not set)",o=n.generateRandomUuid();if(n.setAction(o),r.hasOwnProperty&&r.hasOwnProperty("value")&&r.value.length>0&&(i=r.value),console.log("isComstomClickText:"+t),t){var a=uis.getOption("click_text");n.set("click_text",a)}else n.set("click_text",r.innerText);r.hasOwnProperty&&r.hasOwnProperty("name")&&r.name.length>0&&n.set("click_name",r.name),r.hasOwnProperty&&r.hasOwnProperty("value")&&r.value.length>0&&n.set("click_value",r.value),r.hasOwnProperty&&r.hasOwnProperty("id")&&r.id.length>0&&n.set("click_id",r.id),r.className&&r.className.length>0&&n.set("click_class",r.className),n.set("click_tag",UIS.strtolower(r.tagName)),n.set("click_pos_x",this.findPosX(r)),n.set("click_pos_y",this.findPosY(r)),this.logEvent(n.getProperties())},UIS.fn.bindClickEvents=function(e){if(!this.isClickTrackingEnabled){var t=this;window.addEventListener?window.addEventListener("click",function(n){t.clickEventHandler(n,e)},!1):window.attachEvent&&document.attachEvent("onclick",function(n){t.clickEventHandler(n,e)}),this.isClickTrackingEnabled=!0}},UIS.fn.trackClicks=function(){this.bindClickEvents(!1)},UIS.fn.trackJqueryAjax=function(e){var t=this,n=e.ajax;e.ajax=function(r,i){"object"==typeof r&&(i=r,r=void 0),i=i||{};var o,a=i.complete,s=i.beforeSend,c=i.dataFilter,d=(new Date).getTime(),u=i.url;return i.beforeSend=function(t){t.setRequestHeader("Action-Id",window.action_id),e.isFunction(s)&&s.apply(this,arguments)},i.dataFilter=function(t,n){return o=(new Date).getTime(),e.isFunction(c)?c.apply(this,arguments):t},i.complete=function(n,r,i){var s=n.getResponseHeader("txID"),c=n.getResponseHeader("Action-Id"),f=n.getResponseHeader("Content-Length");e.isFunction(a)&&a.apply(this,arguments);var l=(new Date).getTime(),p=o-d,h=l-d,m=new UISEvent(t);m.setEventType("ajax"),m.setAction(c),m.set("ajax_id",s),m.set("content_length",f||0),m.set("ajax_tm",p||0),m.set("ajax_tm_cb",h||0),m.set("url_ajax",u),t.logEvent(m.getProperties())},n(r,i)},this.isTrackingJqueryAjax=!0},UIS.fn._trackRouterEvent=function(e){var t=this.urlFixup(document.domain,window.location.href,this.getReferrer()),n=decodeURIComponent(t[2]);e.setAction(window.action_id),e.set("url",window.location.href),n&&e.set("url_ref",n)},UIS.fn.trackRouter=function(){var e=this,t=function(t){var n=new UISEvent(e);n.setEventType("page_route"),e._trackRouterEvent(n),e.logEvent(n.getProperties())},n=function(t){var n=new UISEvent(e);n.setEventType("page_route"),e._trackRouterEvent(n),e.logEvent(n.getProperties())};"undefined"!=typeof window.onhashchange&&(window.addEventListener?window.addEventListener("hashchange",t,!1):window.attachEvent&&window.attachEvent("onhashchange",t)),"undefined"!=typeof window.onpopstate&&(window.addEventListener?window.addEventListener("popstate",n,!1):window.attachEvent&&window.attachEvent("onpopstate",n)),window.history.pushState&&(window.history._pushState=window.history.pushState,window.history.pushState=function(t,n,r){window.history._pushState(t,n,r);var i=new UISEvent(e);i.setEventType("page_route"),e._trackRouterEvent(i),e.logEvent(i.getProperties())}),window.history.replaceState&&(window.history._replaceState=window.history.replaceState,window.history.replaceState=function(t,n,r){window.history._replaceState(t,n,r);var i=new UISEvent(e);i.setEventType("page_route"),e._trackRouterEvent(i),e.logEvent(i.getProperties())})},UIS.fn.trackPageLoad=function(){var e=this,t=new UISEvent(this),n=window.timing.getTimes();if(n.loadTime>0){var r=t.generateRandomUuid();t.setEventType("page_load"),t.setAction(r),t.set("t_unload",n.t_unload||0),t.set("t_redirect",n.t_redirect||0),t.set("t_dns",n.t_dns||0),t.set("t_tcp",n.t_tcp||0),t.set("t_request",n.t_request||0),t.set("t_response",n.t_response||0),t.set("t_paint",n.t_paint||0),t.set("t_dom",n.t_dom||0),t.set("t_domready",n.t_domready||0),t.set("t_load",n.t_load||0),t.set("t_onload",n.t_onload||0),t.set("t_white",n.t_white||0),t.set("t_all",n.t_all||0),t.set("ajax_tm",n.t_all||0),this.logEvent(t.getProperties())}else setTimeout(function(){e.trackPageLoad()},400)},UIS.fn.log=function(e){if("object"==typeof e){var t=new UISEvent(this);t.setEventType("custom");for(var n in e)0==n.indexOf("ext")&&t.set(n,e[n]);this.logEvent(t.getProperties())}},UIS.fn.trackError=function(){window.onerror=function(e,t,n,r,i){return"Script error."!=e&&!t||void setTimeout(function(){var e={};if(r=r||window.event&&window.event.errorCharacter||0,e.url=t,e.line=n,e.col=r,i&&i.stack)e.msg=i.stack.toString();else if(arguments.callee){for(var o=[],a=arguments.callee.caller,s=3;a&&--s>0&&(o.push(a.toString()),a!==a.caller);)a=a.caller;o=o.join(","),e.msg=o}var c=window.uis||new UIS,d=new UISEvent(c);d.setEventType("jserror"),d.set("error_js",e.url),d.set("error_line",e.line),d.set("error_col",e.col),d.set("error_msg",e.msg.toString()),c.logEvent(d.getProperties())},0)}},UIS.fn.start=function(e){e.trackerUrl&&this.setOption("trackerUrl",e.trackerUrl),e.userId&&this.setOption("userId",e.userId),e.siteId&&this.setOption("siteId",e.siteId),this.trackClicks(),this.trackRouter(),this.trackPageLoad(),this.trackError(),window.$&&window.$.ajax&&this.trackJqueryAjax(window.$)},window.uis=new UIS;